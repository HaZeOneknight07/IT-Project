<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <title>Admin Dashboard - Gelder Group Surveyors</title>
  <!-- Admin Stylesheet -->
  <link rel="stylesheet" href="css/adminstyle.css" />
  <!-- Boxicons CDN Link -->
  <link href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css" rel="stylesheet" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Google Poppins Font -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Poppins" />
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="img/favicon.png" />
</head>
<body>

  <div class="sidebar">
    <div class="logo-details">
      <i class="bx bxl-c-plus-plus icon"></i>
      <div class="logo_name">Gelder Group</div>
      <i class="bx bx-menu" id="btn"></i>
    </div>
    <ul class="nav-list">
      <li>
        <i class="bx bx-search"></i>
        <input type="text" placeholder="Search..." />
        <span class="tooltip">Search</span>
      </li>
      <li>
        <a href="#">
          <i class="bx bx-grid-alt"></i>
          <span class="links_name">Dashboard</span>
        </a>
        <span class="tooltip">Dashboard</span>
      </li>
      <li>
        <a href="#">
          <i class="bx bx-user"></i>
          <span class="links_name">User</span>
        </a>
        <span class="tooltip">User</span>
      </li>
      <li>
        <a href="#">
          <i class="bx bx-chat"></i>
          <span class="links_name">Messages</span>
        </a>
        <span class="tooltip">Messages</span>
      </li>
      <li>
        <a href="#">
          <i class="bx bx-pie-chart-alt-2"></i>
          <span class="links_name">Analytics</span>
        </a>
        <span class="tooltip">Analytics</span>
      </li>
      <li>
        <a href="https://github.com/HaZeOneknight07/IT-Project">
          <i class="bx bx-folder"></i>
          <span class="links_name">File Manager</span>
        </a>
        <span class="tooltip">Files</span>
      </li>
      <li>
        <a href="#">
          <i class="bx bx-heart"></i>
          <span class="links_name">Saved</span>
        </a>
        <span class="tooltip">Saved</span>
      </li>
      <li>
        <a href="#">
          <i class="bx bx-cog"></i>
          <span class="links_name">Setting</span>
        </a>
        <span class="tooltip">Setting</span>
      </li>
      <li class="profile">
        <div class="profile-details">
          <img id="profileImg" src="" alt="profileImg" />
          <div class="name_job">
            <div id="name">Test Name</div>
            <div id="job">Web designer</div>
          </div>
        </div>
        <i class="bx bx-log-out" id="log_out"></i>
      </li>
    </ul>
  </div>

  <!-- Container for user menu -->
<div id="userMenuContainer" class="user-menu-container">
  <!-- User Menu -->
  <div id="userMenu" class="user-menu">
    <div class="menu-header">Current Users</div>
    <ul>
      <!-- Display current users -->
      <li>
        <strong>Name:</strong> Ty Ashmore<br>
        <strong>Job:</strong> Web Developer
      </li>
      <li>
        <strong>Name:</strong> John Doe<br>
        <strong>Job:</strong> Developer
      </li>
      <!-- Add more users as needed -->
    </ul>
    <div class="menu-header">Inactive Users</div>
    <ul>
      <li>Test 1</li>
      <li>Test 2</li>
      <!-- Add more inactive users as needed -->
    </ul>
  </div>
</div>

  <section class="home-section">
    <div class="text">Dashboard</div>
  </section>

  <!-- Form for adding users -->
  <div id="addUserForm" style="display: none;">
    <h2>Add User</h2>
    <form id="userForm">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required><br><br>
      <label for="job">Job:</label>
      <input type="text" id="job" name="job" required><br><br>
      <button type="submit">Submit</button>
    </form>
  </div>

<!-- Admin Script -->
<script>
  // Predefined users array
  var predefinedUsers = [
    { name: "Ty Ashmore", job: "Web Developer", imageUrl: "img/logo.svg", password: "secret" },
    { name: "Guest", job: "Developer", imageUrl: "img/logo.svg" },
    // Add more predefined users as needed.
  ];

  // Function to check if the user is predefined
  function isUserPredefined(name, job) {
    return predefinedUsers.some(function(user) {
      return user.name.toLowerCase() === name.toLowerCase() && user.job.toLowerCase() === job.toLowerCase();
    });
  }

  // Function to prompt user for details
  function promptUserDetails() {
    // Check if there are any predefined users
    if (predefinedUsers.length === 0) {
      alert("No predefined users found. Please add some predefined users.");
      return;
    }

    var name = prompt("Please enter your name:", "");
    var job = prompt("Please enter your job title:", "");

    // If user cancels prompt, return
    if (!name || !job) return;

    // If the user is not predefined, redirect to login page
    if (!isUserPredefined(name, job)) {
      alert("You are not a predefined user. Redirecting to login page...");
      window.location.href = "index.html"; // Change the URL to your login page
      return;
    }

    var imageUrl = ""; // Default image URL
    var found = false;

    // Check if the input matches any predefined user
    for (var i = 0; i < predefinedUsers.length; i++) {
      if (name.toLowerCase() === predefinedUsers[i].name.toLowerCase() && 
          job.toLowerCase() === predefinedUsers[i].job.toLowerCase()) {
        // If matched, prompt for password if the user is Ty Ashmore
        if (name.toLowerCase() === "ty ashmore") {
          var password = prompt("Please enter the password for Ty Ashmore:", "");
          if (password !== predefinedUsers[i].password) {
            alert("Incorrect password for Ty Ashmore.");
            return;
          }
        }
        // Populate the image URL
        imageUrl = predefinedUsers[i].imageUrl;
        found = true;
        break; // Exit loop once a match is found
      }
    }

    // Update profile information with user details
    document.getElementById("name").textContent = name;
    document.getElementById("job").textContent = job;
    document.getElementById("profileImg").src = imageUrl;

    // Enable clickable elements
    enableClickableElements();
  }

  // Function to disable clickable elements
  function disableClickableElements() {
    var clickableElements = document.querySelectorAll("a, button");
    clickableElements.forEach(function(element) {
      element.disabled = true;
    });
  }

  // Function to enable clickable elements
  function enableClickableElements() {
    var clickableElements = document.querySelectorAll("a, button");
    clickableElements.forEach(function(element) {
      element.disabled = false;
    });
  }

  // Call the function when the page loads
  window.onload = promptUserDetails;

  // Function to show the form for adding users
  function showAddUserForm() {
    document.getElementById("addUserForm").style.display = "block";
  }

  // Function to handle form submission
  document.getElementById("userForm").addEventListener("submit", function(event) {
    event.preventDefault();
    var name = document.getElementById("name").value;
    var job = document.getElementById("job").value;
    var imageUrl = prompt("Please enter the image URL for the user:", "");
    predefinedUsers.push({ name: name, job: job, imageUrl: imageUrl });
    document.getElementById("addUserForm").style.display = "none";
  });

  // Function to handle GitHub link
  function handleGitHubLink() {
    var currentUser = document.getElementById("name").textContent.trim().toLowerCase();
    if (currentUser === "ty ashmore") {
      // Redirect to GitHub page
      window.location.href = "https://github.com/HaZeOneknight07/IT-Project";
    } else {
      // Display insufficient privileges message
      alert("Insufficient Privileges. If this is incorrect, contact Web Admin.");
    }
  }

  // Function to handle File Manager link
  function handleFileManagerLink() {
    var currentUser = document.getElementById("name").textContent.trim().toLowerCase();
    if (currentUser !== "ty ashmore") {
      // Display insufficient privileges message
      alert("Insufficient Privileges. If this is incorrect, contact Web Admin.");
    }
    // You can add additional logic here if needed
  };

  function toggleUserMenu() {
  var menuContainer = document.getElementById("userMenuContainer");
  menuContainer.classList.toggle("show");
}

</script>
  <!-- Your other JavaScript files can be included here -->
  <script src="js/admin.js"></script>
</body>
</html>
